# JSP

> **J**ava **S**erver **P**age
>
> 클라이언트의 요청에 대해서 동적 컨텐츠를 생성해 응답결과(`html`태그)를 만들어줄 때 사용하는 기술로 `html`문서에 화면을 구성하는 방법과 동일하게 작성하면 된다.
>
> 실행이 될 때 WAS내부에 있는 `JSP`컨테이너에 의해 서블릿으로 변환되어 실행이 되므로 자바코드를 사용할 수 있다.
>
> `JSP`는 서블릿에서 발생한 데이터를 화면에 출력하기 위해서 사용하는 기술이므로 자바코드를 다양하게 많이 정의하지 않도록 구현해야 한다.
>
> Lifecycle이 서블릿과 유사

* WAS가 인식하는 `JSP` 파일들(.java & .class)의 경로

```markdown
C:\iot\work\webwork\.metadata\.plugins\org.eclipse.wst.server.core\tmp0
\work\Catalina\localhost\serverweb\org\apache\jsp\jspbasic
```

1. `JSP`스크립트 요소

   * 스크립트릿

     ```jsp
     <%		%>
     <%-- 자바코드를 작성할 수 있는 스크립트 요소 --%>
     ```

     * 문장의 끝에 반드시 `;`을 추가해야 한다.

     * 스크립트릿 요소는 여러 번 반복해서 정의할 수 있다.

     * **서블릿이 공유하는 데이터를 꺼내서 출력하는 작업만** 해야 한다.

     * .java 파일에서 할 수 있는 모든 작업을 할 수 있다. (메서드 선언, 클래스 선언 X)

     * `java.lang`패키지 빼고 모두 import

     * 스크립트릿 내부에서 정의하는 변수는 `_jspService()`메서드의 지역변수로 추가

   * 선언문

     ```jsp
     <%! 	%>
     ```

     > jsp파일이 서블릿으로 변환될 때 서블릿클래스의 멤버로 작성될 메서드나 변수를 정의하는 공간이다.

   * 표현식

     ```jsp
     <%=		%>
     ```

     > 동적으로 만들어진 컨텐츠를 구성하는 값을 출력하기 위해 사용하는 스크립트요소
     >
     > 서블릿으로 변환될 때 `out.print()`의 내부에 **매개변수로 작성이 되므로 `;`을 추가하지 않는다**.

     ```jsp
     <%= "test"; %> 
     ```

     ```java
     out.print("test";)
     ```

     * 표현식은 값을 출력하기 위해서 사용하므로 사용할 수 있는 타입이 제한적
     * 기본형, `String`, 앞에 나열한 타입을 반환하는 메서드 호출문
     * 연산

2. 지시자

3. `JSP`내장 객체

   > `jsp`가 서블릿으로 변환될 때, `jsp`컨테이너에 의해서 `_jspService()`메서드 내부에 추가된 지역변수 (`jsp`문서 내부에서 변수 선언하지 않고 사용할 수 있다.)
   >
   > 객체명은 컨테이너가 자동생성해준 이름이므로 반드시 정해진 이름으로 사용해야 한다.

   * `request` : `HttpServletRequest`

     * 클라이언트의 요청 정보를 담고 있는 객체
     * 서블릿으로부터 전달받아 사용한다.

     >서블릿에서 사용하는 모든 것을 사용할 수 있다.

   * `response` : `HttpServletResponse`

   * `session` : `HttpSession`

   * `application` : `ServletContext`

4. `JSP`액션 태그

5. EL & JSTL

