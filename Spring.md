# Spring

> 유지보수를 어렵게 하는 자잘한 코드를 없애고 보다 편한 개발을 도와주는 프레임워크
>
> Servlet처럼 객체의 생성과 소멸을 관리해준다.

* MVC

  > **M**odel **V**iew **C**ontroller의 구조로 Servlet을 보완하기 위한 디자인 패턴
  >
  > 특히 controller부분을 세분화한다.

* spring.io
  * dynamic web project -> maven project 변환
  * eclipse : STS 플러그인 추가
  * STS를 다운로드 받아 직접 사용
  
* spring의 특징

  * 경량시스템(포함된 라이브러리가 대부분 1MB가 넘지 않기 때문에 가볍다.)

  * POJO(Plain Old Java Object)로 개발하기 때문에, 작성하는 클래스는 OOP의 특징을 적용하여 개발하면 된다.

  * spring프레임워크 내부에 IoC컨테이너를 포함하고 있다.

    1. 의존성을 주입

       : 시스템 내부(내가 만든 프로그램)에서 사용하는 객체를 직접 생성해서 사용하지 않고 스프링내부에 존재하는 *컨테이너를 통해 필요한 곳에서 사용할 수 있도록 전달받아 사용한다. 

       > `*` 스프링 내부에서 라이브러리로 존재
       >
       > ​	spring-beans-4.2.4.RELEASE.jar 
       >
       > ​	spring-context-4.2.4.RELEASE.jar

       ```markdown
       * 의존성 주입
       	1. DL (Dependency Lookup)
       		=> 컨테이너가 만든 객체를 getBean메서드를 통해 가져와서 사용하는 것
       		   웹에서는 거의 사용하지 않는다.
       	2. DI (Dependency Injection)
       		
       ```

    2. 스프링 내부의 IoC컨테이너를 통해 객체를 관리하면서 커플링을 낮출 수 있다.

    3. 스프링 내부에는 발생할 수 있는 다양한 모든 경우에 반응할 수 있도록 많은 컨테이너 클래스를 제공한다.

# 프레임워크

> 완성된 소프트웨어가 아니라 어떤 문제를 해결하기 위해서 잘 설계된 미완의 모듈로 spring같은 경우 자바 개발자들이 공통으로 사용할만한 기능을 미리 정의해놓은 ***모듈**이다
>
> 재사용이 가능한 모듈이며 일반적으로 프레임워크를 통해서 개발하는 시스템의 공통모듈은 프레임워크에서 제공
>
> ---
>
> `*` 코드를 모아놓은 라이브러리
>
> ---
>
> 사용 예) 쇼핑몰, 예약관리 시스템, 인터넷 뱅킹

* 개발자가 처리해야하는 대부분의 작업을 프레임워크 내부에서 처리해 주므로 개발을 위한 시간과 노력을 절약할 수 있다.
* 신뢰있는 프로그램을 개발할 수 있다.
* 개발자간의 의사소통이 활발
* 주어진 메뉴얼대로 개발하면 된다. 즉, 프레임워크 내부에서 제공하는 모듈

# ioc 컨테이너

---

* 컨테이너란?

  : 작성한 코드의 처리과정을 위임받은 독립적인 존재

    프로그래머가 작성한 코드를 스스로 참조, 객체의 생성과 소멸을 컨트롤해준다.

  ex) Servlet 컨테이너, EJB컨테이너...

---

## spring 컨테이너

> 스프링에서 객체를 관리하는 컨테이너를 말한다.
>
> 스프링에서 객체는 **Bean**이라고 부른다.
>
> 모든 스프링 컨테이너는 기본적으로 똑같은 객체를 단 하나 생성한다. => **Singleton**이 기본 속성
>
> 컨테이너가 관리하는 객체는 컨테이너가 소멸될 때 소멸된다.

* 동작 순서

  1. 어떠한 객체의 명세서(설정파일 즉, properties나 xml)를 작성
  2. 스프링 라이브러리는 해당 명세대로 객체를 생성
  3. 생성된 객체(그리고 디펜던시)들을 보관

  이 과정을 실행하고 객체들을 보관하는 공간이 **ioc 컨테이너**다.

### spring 컨테이너의 종류

```markdown
BeanFactory
	^
	l
ApplicationContext
	^
	l
WebApplicationContext
```

* BeanFactory 

  : 개발자가 **객체를 요청하는 시점**에 객체를 생성한다. 

   => **lazy-loading**방식으로 일반적인 spring프로젝트에서는 잘 사용하지 않는다.

* ApplicationContext

  : 컨테이너 객체가 생성될 때 전달된 xml안에 정의된 모든 Bean을 생성하고 의존성주입을 처리한다.

   => **pre-loading**방식으로 대부분의 spring프로젝트가 이용하는 컨테이너

```markdown
* GenericXmlApplicationContext
	: 파일 시스템이나 클래스 경로에 있는 XML 설정 파일을 로딩하여 구동하는 컨테이너
* XmlWebApplicationContext
	: 웹 기반의 스프링 어플리케이션을 개발할 때 사용하는 컨테이너
```

